editor=function(){return{init:function(){return!0},insert_text:function(t,e,r){var a,o=document.getElementById(r);if(!o)return!1;if(document.selection&&document.selection.createRange)o.focus(),a=document.selection.createRange(),a.text=t+a.text+e,o.focus();else if(o.selectionStart||0===o.selectionStart){var l=o.selectionStart,n=o.selectionEnd,i=o.scrollTop;o.value=o.value.substring(0,l)+t+o.value.substring(l,n)+e+o.value.substring(n,o.value.length),o.selectionStart="="===t.charAt(t.length-2)?l+t.length-1:l===n?n+t.length:n+t.length+e.length,o.selectionEnd=o.selectionStart,o.scrollTop=i,o.focus()}else o.value+=t+e,o.focus()}}}(),toggleDisplay=function(t,e,r){r||(r="block");var a=$("#"+t),o=a.css("display");e||(e=""===o||o===r?-1:1),a.css("display",1===e?r:"none")},colorPalette=function(t,e,r){var a=0,o=0,l=0,n=new Array(6),i="",c="";n[0]="00",n[1]="40",n[2]="80",n[3]="BF",n[4]="FF";var s="h"==t?"horizontal-palette":"vertical-palette";for(c+='<table class="not-responsive colour-palette '+s+'" style="width: auto;">',a=0;5>a;a++){for("h"==t&&(c+="<tr>"),o=0;5>o;o++){for("v"==t&&(c+="<tr>"),l=0;5>l;l++)i=String(n[a])+String(n[o])+String(n[l]),c+='<td style="background-color: #'+i+"; width: "+e+"px; height: "+r+'px;">',c+='<a href="#" data-color="'+i+'" style="display: block; width: '+e+"px; height: "+r+'px; " alt="#'+i+'" title="#'+i+'"></a>',c+="</td>";"v"==t&&(c+="</tr>")}"h"==t&&(c+="</tr>")}return c+="</table>"},registerPalette=function(t,e){var r=t.attr("data-orientation"),a=t.attr("data-height"),o=t.attr("data-width"),l=t.attr("data-target"),n=t.attr("data-bbcode");t.html(colorPalette(r,o,a)),$("#color_palette_toggle").click(function(e){t.toggle(),e.preventDefault()}),$(t).on("click","a",function(t){var r=$(this).attr("data-color");n?editor.insert_text("[color=#"+r+"]","[/color]",""+e):$(l).val(r),t.preventDefault()})},$(function(){$(".color_palette_placeholder_message").each(function(){registerPalette($(this),$(this).attr("data-local"))})}),MyBBEditor={},MyBBEditor.insertText=function(t){return editor.insert_text(t,"","message"),!1};