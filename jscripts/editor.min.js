editor=function(){return{init:function(){return!0},insert_text:function(t,e){var o,a=document.all?document.all.message:null!==document.getElementById("afocus")?document.getElementById("afocus").message:document.getElementsByName("message")[0];if(!a)return!1;if(document.selection&&document.selection.createRange)a.focus(),o=document.selection.createRange(),o.text=t+o.text+e,a.focus();else if(a.selectionStart||0===a.selectionStart){var l=a.selectionStart,n=a.selectionEnd,r=a.scrollTop;a.value=a.value.substring(0,l)+t+a.value.substring(l,n)+e+a.value.substring(n,a.value.length),a.selectionStart="="===t.charAt(t.length-2)?l+t.length-1:l===n?n+t.length:n+t.length+e.length,a.selectionEnd=a.selectionStart,a.scrollTop=r,a.focus()}else a.value+=t+e,a.focus()}}}(),toggleDisplay=function(t,e,o){o||(o="block");var a=$("#"+t),l=a.css("display");e||(e=""===l||l===o?-1:1),a.css("display",1===e?o:"none")},colorPalette=function(t,e,o){var a=0,l=0,n=0,r=new Array(6),c="",i="";r[0]="00",r[1]="40",r[2]="80",r[3]="BF",r[4]="FF";var s="h"==t?"horizontal-palette":"vertical-palette";for(i+='<table class="not-responsive colour-palette '+s+'" style="width: auto;">',a=0;5>a;a++){for("h"==t&&(i+="<tr>"),l=0;5>l;l++){for("v"==t&&(i+="<tr>"),n=0;5>n;n++)c=String(r[a])+String(r[l])+String(r[n]),i+='<td style="background-color: #'+c+"; width: "+e+"px; height: "+o+'px;">',i+='<a href="#" data-color="'+c+'" style="display: block; width: '+e+"px; height: "+o+'px; " alt="#'+c+'" title="#'+c+'"></a>',i+="</td>";"v"==t&&(i+="</tr>")}"h"==t&&(i+="</tr>")}return i+="</table>"},registerPalette=function(t){var e=t.attr("data-orientation"),o=t.attr("data-height"),a=t.attr("data-width"),l=t.attr("data-target"),n=t.attr("data-bbcode");t.html(colorPalette(e,a,o)),$("#color_palette_toggle").click(function(e){t.toggle(),e.preventDefault()}),$(t).on("click","a",function(t){var e=$(this).attr("data-color");n?editor.insert_text("[color=#"+e+"]","[/color]"):$(l).val(e),t.preventDefault()})},$(function(){$("#color_palette_placeholder").each(function(){registerPalette($(this))})}),MyBBEditor={},MyBBEditor.insertText=function(t){return editor.insert_text(t,""),!1};